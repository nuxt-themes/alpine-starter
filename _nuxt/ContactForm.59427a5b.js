import y from"./Input.74f83e6b.js";import b from"./Button.b12d7e23.js";import{a as x,B as v,C as S,D as B,E as C,o as l,e as c,f as i,F as E,r as F,u as s,h as R,j as T,i as V,v as j,c as w,m as k}from"./entry.d3bfefe5.js";const N=["action"],O={class:"inputs"},q=x({__name:"ContactForm",props:{submitButtonText:{type:String,default:"Send message"},fields:{type:Array,default:()=>[{type:"text",model:"name",name:"Name",placeholder:"Your name",required:!0,layout:"default"},{type:"email",model:"email",name:"Email",placeholder:"Your email",required:!0,layout:"default"},{type:"text",model:"text",name:"Subject",required:!1,layout:"default"},{type:"textarea",model:"message",name:"Message",placeholder:"Your message",required:!0,layout:"big"}]}},setup(m){const d=m,p=v().alpine,{FORMSPREE_URL:n}=S().public;n||console.warn("No FORMSPREE_URL provided");const t=B(),f=C(d.fields.map(e=>({...e,data:""}))),_=async e=>{e.preventDefault();const u=new FormData(e.target);t.value="Sending...",fetch(e.target.action,{method:e.target.method,body:u,headers:{Accept:"application/json"}}).then(r=>{r.ok?(t.value=p.form.successMessage,e.target.reset()):r.json().then(a=>{Object.hasOwn(a,"errors")?(t.value=a.errors[0].message,console.error(a.errors.map(o=>o.message).join(", ")),setTimeout(()=>{t.value="Send message"},2e3)):console.error("There was a problem submitting your form")})}).catch(()=>{console.error("There was a problem submitting your form")})};return(e,u)=>{const r=y,a=b;return l(),c("form",{class:"contact-form",method:"POST",action:s(n),onSubmit:_},[i("div",O,[(l(!0),c(E,null,F(s(f),(o,g)=>(l(),w(r,{key:g,modelValue:o.data,"onUpdate:modelValue":h=>o.data=h,field:o},null,8,["modelValue","onUpdate:modelValue","field"]))),128))]),i("div",null,[R(a,{type:"submit",disabled:!s(n)},{default:T(()=>[V(j(s(t)?s(t):m.submitButtonText),1)]),_:1},8,["disabled"])])],40,N)}}}),A=k(q,[["__scopeId","data-v-0b8fa48c"]]);export{A as default};
